{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\S_F_Y_N\\\\frontend\\\\src\\\\context\\\\CarritoContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\n\n// Crear el contexto con valores por defecto\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CarritoContext = /*#__PURE__*/createContext({\n  carrito: [],\n  metodosPago: [],\n  agregarAlCarrito: () => {},\n  eliminarDelCarrito: () => {},\n  actualizarCantidad: () => {},\n  vaciarCarrito: () => {},\n  calcularTotal: () => 0\n});\nexport const CarritoProvider = ({\n  children\n}) => {\n  _s();\n  const [carrito, setCarrito] = useState([]);\n  const agregarAlCarrito = producto => {\n    setCarrito(prev => {\n      const existe = prev.find(item => item.id === producto.id);\n      if (existe) {\n        return prev.map(item => item.id === producto.id ? {\n          ...item,\n          cantidad: item.cantidad + 1\n        } : item);\n      }\n      return [...prev, {\n        ...producto,\n        cantidad: 1\n      }];\n    });\n  };\n  const eliminarDelCarrito = id => {\n    setCarrito(prev => prev.filter(item => item.id !== id));\n  };\n  const actualizarCantidad = (id, nuevaCantidad, nuevosIngredientes = null) => {\n    setCarrito(prev => prev.map(item => item.id === id ? {\n      ...item,\n      cantidad: Math.max(1, nuevaCantidad),\n      // No permite menos de 1\n      ...(nuevosIngredientes !== null && {\n        ingredientesAdicionales: nuevosIngredientes\n      })\n    } : item));\n  };\n  const vaciarCarrito = () => {\n    setCarrito([]);\n  };\n  const calcularTotal = () => {\n    return carrito.reduce((total, item) => total + item.precio * item.cantidad, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(CarritoContext.Provider, {\n    value: {\n      carrito,\n      agregarAlCarrito,\n      eliminarDelCarrito,\n      actualizarCantidad,\n      vaciarCarrito,\n      calcularTotal\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n// Hook personalizado con verificación de contexto\n_s(CarritoProvider, \"P1BaWXIQpOcWXPCAlakQBGCmK7g=\");\n_c = CarritoProvider;\nexport const useCarrito = () => {\n  _s2();\n  const context = useContext(CarritoContext);\n  if (context === undefined) {\n    throw new Error('useCarrito debe usarse dentro de un CarritoProvider');\n  }\n  return context;\n};\n_s2(useCarrito, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"CarritoProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","CarritoContext","carrito","metodosPago","agregarAlCarrito","eliminarDelCarrito","actualizarCantidad","vaciarCarrito","calcularTotal","CarritoProvider","children","_s","setCarrito","producto","prev","existe","find","item","id","map","cantidad","filter","nuevaCantidad","nuevosIngredientes","Math","max","ingredientesAdicionales","reduce","total","precio","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCarrito","_s2","context","undefined","Error","$RefreshReg$"],"sources":["C:/xampp/htdocs/S_F_Y_N/frontend/src/context/CarritoContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\r\n\r\n// Crear el contexto con valores por defecto\r\nconst CarritoContext = createContext({\r\n  carrito: [],\r\n  metodosPago: [],\r\n  agregarAlCarrito: () => {},\r\n  eliminarDelCarrito: () => {},\r\n  actualizarCantidad: () => {},\r\n  vaciarCarrito: () => {},\r\n  calcularTotal: () => 0\r\n});\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n  const [carrito, setCarrito] = useState([]);\r\n  \r\n  const agregarAlCarrito = (producto) => {\r\n    setCarrito(prev => {\r\n      const existe = prev.find(item => item.id === producto.id);\r\n      if (existe) {\r\n        return prev.map(item =>\r\n          item.id === producto.id \r\n            ? { ...item, cantidad: item.cantidad + 1 } \r\n            : item\r\n        );\r\n      }\r\n      return [...prev, { ...producto, cantidad: 1 }];\r\n    });\r\n  };\r\n\r\n  const eliminarDelCarrito = (id) => {\r\n    setCarrito(prev => prev.filter(item => item.id !== id));\r\n  };\r\n\r\n  const actualizarCantidad = (id, nuevaCantidad, nuevosIngredientes = null) => {\r\n    setCarrito(prev =>\r\n      prev.map(item =>\r\n        item.id === id \r\n          ? { \r\n              ...item, \r\n              cantidad: Math.max(1, nuevaCantidad), // No permite menos de 1\r\n              ...(nuevosIngredientes !== null && { ingredientesAdicionales: nuevosIngredientes })\r\n            } \r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const vaciarCarrito = () => {\r\n    setCarrito([]);\r\n  };\r\n\r\n  const calcularTotal = () => {\r\n    return carrito.reduce((total, item) => total + (item.precio * item.cantidad), 0);\r\n  };\r\n\r\n  return (\r\n    <CarritoContext.Provider value={{\r\n      carrito,\r\n      agregarAlCarrito,\r\n      eliminarDelCarrito,\r\n      actualizarCantidad,\r\n      vaciarCarrito,\r\n      calcularTotal\r\n    }}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  );\r\n};\r\n\r\n// Hook personalizado con verificación de contexto\r\nexport const useCarrito = () => {\r\n  const context = useContext(CarritoContext);\r\n  if (context === undefined) {\r\n    throw new Error('useCarrito debe usarse dentro de un CarritoProvider');\r\n  }\r\n  return context;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}